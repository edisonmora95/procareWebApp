<!DOCTYPE html>
<html>
	<head>
		<% include ../partials/head %>
		<link rel="stylesheet" type="text/css" href="/stylesheets/procarianos/ingresarProcarianoStyles.css">
	</head>
	<body>
		<div>
			<header>
				<% include ../partials/navbar %>
			</header>
			<main class="container" id="main">
				<section class="row" id="row-form">
					<article class="col s12">
						<main class="card">
							<header class="card-content">
								<h4 class="center-align titulo">Ingresar procariano</h4>		
							</header>
							<main class="card-content row">
								<form class="col s12">
									<section class="file-field input-field row center-align">
							      <article class="show-image col s4 offset-s4">
							        <img id="profilePic" :src="src" class="circle responsive-img">
							        <i v-if="src=='http://via.placeholder.com/150x150'" class="overlay material-icons">camera_alt</i>
							        <input type="file" accept="image/x-png,image/jpeg" id="imgInp">
							        <div class="file-path-wrapper">
								        <input class="file-path validate" type="text">
								      </div>
							      </article>
							    </section>
									<!--Row nombres y apellidos-->
									<section class="row row-nombres-apellidos">
										<article class="col s6">
											<label for="nombres">Nombres</label>
											<input type="text" name="nombres" id="nombres" v-model="procariano.nombres" v-validate="'required|alpha_spaces'">
											<span v-show="errors.has('nombres')" class="help is-danger">{{ errors.first('nombres') }}</span>
										</article>
										<article class="col s6">
											<label for="apellidos">Apellidos</label>
											<input type="text" name="apellidos" id="apellidos" v-model="procariano.apellidos" v-validate="'required|alpha_spaces'">
											<span v-show="errors.has('apellidos')" class="help is-danger">{{ errors.first('apellidos') }}</span>
										</article>
									</section>
									<!--Row cedula y fecha nacimiento-->
									<section class="row row-cedula-fecha">
										<article class="col s6">
											<label for="fecha-nacimiento">Fecha de nacimiento</label>
											<input type="date" name="fecha-nacimiento" id="fecha-nacimiento" class="datepicker" v-model="procariano.fechaNacimiento" v-validate="'required'">
											<span v-show="errors.has('fecha-nacimiento')" class="help is-danger">{{ errors.first('fecha-nacimiento') }}</span>
											<span v-if="fechaIncorrecta" id="errorFecha">No puede ingresar a alguien con menos de 11 años.</span>
										</article>
										<article class="col s6">
											<label for="cedula">Cédula</label>
											<input type="text" name="cedula" id="cedula" v-model="procariano.cedula" v-mask="mask_format.Ruc_Mask" v-validate="'required'">
											<span v-show="errors.has('cedula')" class="help is-danger">{{ errors.first('cedula') }}</span>
										</article>
									</section>
									<!--Row direccion y email-->
									<section class="row row-direccion-email">
										<article class="col s6">
											<label for="direccion">Dirección</label>
											<input type="text" name="direccion" id="direccion" v-model="procariano.direccion" v-validate="'required|regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('direccion')" class="help is-danger">{{ errors.first('direccion') }}</span>
										</article>
										<article class="col s6">
											<label for="email">Email</label>
											<input type="email" name="email" id="email" v-model="procariano.email" v-validate="'required|email'" :class="{'input': true, 'is-danger': errors.has('email') }">
											<span v-show="errors.has('email')" class="help is-danger">{{ errors.first('email') }}</span>
										</article>
									</section>
									<!--Row celular y convencional-->
									 <section class="row row-celular-convencional">
			              <article class="input-field col s6">
			                  <label for="celular" class="active">Telf. Celular</label>
			                  <input type="tel" name="celular" id="celular" v-model="procariano.celular" v-mask="mask_format.telf_celular">
			                  <span v-show="errors.has('celular')" class="help is-danger">{{ errors.first('celular') }}</span>
			              </article>
			              <article class="input-field col s6">
			                  <label for="convencional" class="active">Telf. Convencional</label>
			                  <input type="tel" name="convencional" id="convencional" v-model="procariano.convencional" v-mask="mask_format.telef_convencional">
			                  <span v-show="errors.has('convencional')" class="help is-danger">{{ errors.first('convencional') }}</span>
			              </article>
			          	</section>
									<!--Row genero y tipo-->
									<section class="row row-genero-tipo">
										<article class="col s6">
											<label for="selectGenero">Género</label>
											<select id="selectGenero" name="selectGenero">
												<option value="" disabled selected></option>
												<option value="masculino">Masculino</option>
												<option value="femenino">Femenino</option>
											</select>
										</article>
										<article class="col s6">
											<label for="selectTipo">Tipo</label>
											<select id="selectTipo" name="selectTipo">
												<option value="" disabled selected></option>
											</select>
										</article>
									</section>
									<!--Chico formacion-->
									<section class="row row-chico-formacion" v-show="procariano.tipo=='1'">
										<article class="col s6">
											<label for="colegio">Colegio</label>
											<input type="text" name="colegio" id="colegio" v-model="procariano.colegio" v-validate="'regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('colegio')" class="help is-danger">{{ errors.first('colegio') }}</span>
										</article>
										<article class="col s6" id="div-select-grupo-formacion">
											<label class="active" for="selectGrupoFormacion">Grupo de Formación</label>
											<select id="selectGrupoFormacion" name="selectGrupoFormacion">
												<option value="" disabled selected></option>
											</select>
										</article>
									</section>
									<!--Caminante-->
									<section class="row row-caminante" v-show="procariano.tipo=='2'">
										<article class="col s6">
											<label for="colegio">Colegio</label>
											<input type="text" name="colegio" id="colegio" v-model="procariano.colegio" v-validate="'regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('colegio')" class="help is-danger">{{ errors.first('colegio') }}</span>
										</article>
										<article class="col s6">
											<label for="universidad">Universidad</label>
											<input type="text" name="universidad" id="universidad" v-model="procariano.universidad" v-validate="'regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('universidad')" class="help is-danger">{{ errors.first('universidad') }}</span>
										</article>
										<article class="col s6">
											<label for="trabajo">Trabajo</label>
											<input type="text" name="trabajo" id="trabajo" v-model="procariano.trabajo" v-validate="'regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('trabajo')" class="help is-danger">{{ errors.first('trabajo') }}</span>
										</article>
										<article class="col s6" id="div-select-grupo-caminantes">
											<label class="active" for="selectGrupoCaminantes">Grupo de caminantes</label>
											<select id="selectGrupoCaminantes" name="selectGrupoCaminantes">
												<option value="" disabled selected></option>
											</select>
										</article>
									</section>
									<!--Pescador-->
									<section class="row row-pescador" v-show="procariano.tipo=='3'||procariano.tipo==='4'">
										<article class="col s6">
											<label for="colegio">Colegio</label>
											<input type="text" name="colegio" id="colegio" v-model="procariano.colegio" v-validate="'regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('colegio')" class="help is-danger">{{ errors.first('colegio') }}</span>
										</article>
										<article class="col s6">
											<label for="universidad">Universidad</label>
											<input type="text" name="universidad" id="universidad" v-model="procariano.universidad" v-validate="'regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('universidad')" class="help is-danger">{{ errors.first('universidad') }}</span>
										</article>
										<article class="col s6">
											<label for="trabajo">Trabajo</label>
											<input type="text" name="trabajo" id="trabajo" v-model="procariano.trabajo" v-validate="'regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('trabajo')" class="help is-danger">{{ errors.first('trabajo') }}</span>
										</article>
										<article class="col s6" id="div-select-grupo-pescadores">
											<label class="active">Grupo de pescadores</label>
											<select id="selectGrupoPescadores" name="selectGrupoPescadores">
												<option value="" disabled selected></option>
											</select>
										</article>
									</section>
									<!--Sacerdote-->
									<section class="row row-sacerdote" v-show="procariano.tipo=='5'">
										<article class="col s6">
											<label for="parroquia">Parroquia</label>
											<input type="text" name="parroquia" id="parroquia" v-model="procariano.parroquia" v-validate="'regex:^([A-Za-z0-9# .\-]+)$'">
											<span v-show="errors.has('parroquia')" class="help is-danger">{{ errors.first('parroquia') }}</span>
										</article>
										<article class="col s6">
											<label for="fecha-ordenacion">Fecha de ordenación</label>
											<input type="date" name="fecha-ordenacion" id="fecha-ordenacion" class="datepicker" v-model="procariano.fechaOrdenacion">
										</article>
									</section>
									<!--Botones-->
									<footer class="row row-botones">
										<a class="btn waves-effect waves-light btn-cancelar" type="button" name="action" @click="cancelar"><i class="material-icons left">cancel</i>Cancelar<a>
										<a class="btn waves-effect waves-light pull right" type="submit" name="action" @click="validateBeforeSubmit">Crear<i class="material-icons right">send</i><a>
									</footer>
								</form>
							</main>
						</main>
					</article>
				</section>
				<section>
					<!-- Modal Structure -->
				  <div id="modalProcarianoCreado" class="modal">
				    <div class="modal-content">
				      <p class="center-align modal-text">Procariano creado correctamente.</p>
				    </div>
				    <div class="modal-footer">
				      <a href="/procarianos/" class="modal-action modal-close waves-effect waves-green btn-flat">Aceptar</a>
				    </div>
				  </div>
					<!-- Modal Structure -->
				  <div id="modalError" class="modal">
				    <div class="modal-content">
				      <h4 class="center-align">Formulario con errores.</h4>
				      <p class="center-align">Existe un error del campo: "{{errorObj.campo}}"</p>
				      <p class="center-align">Con el siguiente mensaje de error: </p>
				      <p class="center-align">"{{errorObj.msj}}"</p>
				    </div>
				    <div class="modal-footer">
				      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Aceptar</a>
				    </div>
				  </div>
				  <!-- Modal Structure -->
				  <div id="modalErrorAjax" class="modal">
				    <div class="modal-content">
				      <h4 class="center-align">{{errorAjax.titulo}}.</h4>
				      <p class="center-align">"{{errorAjax.descripcion}}"</p>
				    </div>
				    <div class="modal-footer">
				      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Aceptar</a>
				    </div>
				  </div>
				</section>
			</main>
		</div>
	</body>
	<div>
		<% include ../partials/scripts %>
		<script src="/scripts/vee-validate/dist/vee-validate.min.js"></script>
		<script src="/build/procariano/ingresarProcarianoScript.min.js"></script>
	</div>
</html>