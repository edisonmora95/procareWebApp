<!DOCTYPE html>
<html>
	<head>
		<title>Procare</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--Materializecss-->
		
		<!-- Compiled and minified CSS -->
 		
 		<link rel="stylesheet" href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">
 		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
 		<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
 		<link rel="stylesheet" href="/stylesheets/usuarios/tableMaterial.css">
 		<link rel="stylesheet" type="text/css" href="/stylesheets/procarianos/procarianosStyles.css">
 		<link rel="stylesheet" type="text/css" href="/stylesheets/usuarios/verUsuariosStyles.css">

	</head>
	<body>
		<div id="main">
			<header>
				<navbar></navbar>
			</header>
			<main class="container">
				<section id="section-resultados">
					<div class="row">
					  <div id="admin" class="col s12">
					    <div class="material-table">
					      <div class="table-header">
					        <span class="table-title">Tabla de Cargos</span>
					        <div class="actions">
					          <a href="#add_users" class="modal-trigger waves-effect btn-flat no-uppercase"> {{valorBotonFormacion}}</a>
					          <!--<a href="#" class="search-toggle waves-effect btn-flat nopadding"><i class="material-icons">search</i></a>-->
					        </div>
					      </div>
								<table class="tripped bordered responsive-table centered highlight" id="datatable" >
									<thead>
										<th>Nombres</th>
										<th>Apellidos</th>
										<th>Email</th>
										<th>Rol</th>
										<th>Acci√≥n</th>
									</thead>
									<tbody>
										<tr v-for="usuario in listaUsuarios">
											<td>{{usuario.nombres}}</td>
											<td>{{usuario.apellidos}}</td>
											<td>{{usuario.email}}</td>
											<td>
												<a  class='dropdown-button' href='#' :data-activates='usuario.id' data-constrainWidth="false" >
													<i class="material-icons">remove_red_eye</i>
												</a>
												<ul :id='usuario.id' class='dropdown-content' >
													<div v-for="rol in usuario.rolText">
														<li><a href="#!">{{rol}}</a></li>	
														<li class="divider"></li>
													</div>
												</ul>
											</td>
											<td>
												<a href="#modalEditarUsuario" class="waves-effect waves-light">
													<i class="material-icons" @click="seleccionarUsuario(usuario)">mode_edit</i>
												</a>
											</td>
										</tr>
									</tbody>
								</table>
					    </div>
					  </div>
					</div>

				</section>
				

				
			</main>
			<!-- Modal Structure -->
		  <div id="modalEditarUsuario" class="modal">
		    <div class="modal-content" id="modal-content">
		      <h4 class="center-align">Editar usuario</h4>
		      <p class="center-align">{{usuarioSeleccionado.nombres}} {{usuarioSeleccionado.apellidos}}</p>
		      <p class="center-align">{{usuarioSeleccionado.email}}</p>
		      <v-select id="select-rol" name="rol" v-model="usuarioSeleccionado.rolId" :items="roles">
		      	
		      </v-select>
		    </div>
		    <div class="modal-footer">
		      <a href="#" class="modal-action modal-close waves-effect waves-green btn-flat" >Agree</a>
		    </div>
		  </div>
		</div>
		<div id="scripts">
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
			
  		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
  		<script src="/js/libs/jquery.dataTables.min.js"></script>
			<script src='https://unpkg.com/vue@2.3.3'></script>			
			<script src="/js/usuarios/tableMaterial.js"></script>
			<script src="/build/usuarios/verTodosScript.js"></script>
		</div>
	</body>
</html>


